<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.LanyaCorePersonMapper">
    
    <resultMap type="LanyaCorePerson" id="LanyaCorePersonResult">
        <result property="personId"    column="person_id"    />
        <result property="personType"    column="person_type"    />
        <result property="staffType"    column="staff_type"    />
        <result property="positionIconType"    column="position_icon_type"    />
        <result property="cardId"    column="card_id"    />
        <result property="cardType"    column="card_type"    />
        <result property="realName"    column="real_name"    />
        <result property="phone"    column="phone"    />
        <result property="sex"    column="sex"    />
        <result property="personPhoto"    column="person_photo"    />
        <result property="birth"    column="birth"    />
        <result property="email"    column="email"    />
        <result property="nativePlace"    column="native_place"    />
        <result property="nation"    column="nation"    />
        <result property="maritalStatus"    column="marital_status"    />
        <result property="politicsStatus"    column="politics_status"    />
        <result property="healthStatus"    column="health_status"    />
        <result property="idType"    column="id_type"    />
        <result property="idNumber"    column="id_number"    />
        <result property="personIc"    column="person_ic"    />
        <result property="administratorName"    column="administrator_name"    />
        <result property="administratorPhone"    column="administrator_phone"    />
        <result property="deptId"    column="dept_id"    />
        <result property="postId"    column="post_id"    />
        <result property="duty"    column="duty"    />
        <result property="hireDate"    column="hire_date"    />
        <result property="jobNumber"    column="job_number"    />
        <result property="jobStatus"    column="job_status"    />
        <result property="officePhone"    column="office_phone"    />
        <result property="professionalTitle"    column="professional_title"    />
        <result property="professionalTitleNumber"    column="professional_title_number"    />
        <result property="seniority"    column="seniority"    />
        <result property="yearPlusExperience"    column="year_plus_experience"    />
        <result property="experience"    column="experience"    />
        <result property="highestEducation"    column="highest_education"    />
        <result property="highestDegree"    column="highest_degree"    />
        <result property="profession"    column="profession"    />
        <result property="school"    column="school"    />
        <result property="diplomaNumber"    column="diploma_number"    />
        <result property="cengNumber"    column="ceng_number"    />
        <result property="accessory"    column="accessory"    />
        <result property="dimissionDate"    column="dimission_date"    />
        <result property="contractorId"    column="contractor_id"    />
        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
        <result property="remark"    column="remark"    />
        <result property="personCode"    column="person_code"    />
        <result property="gateStatus"    column="gate_status"    />
        <result property="gateInTime"    column="gate_in_time"    />
        <result property="gateOutTime"    column="gate_out_time"    />
        <result property="personSource"    column="person_source"    />
        <result property="gateThrough"    column="gate_through"    />
        <result property="updateFail"    column="update_fail"    />
        <result property="photoSign"    column="photo_sign"    />
    </resultMap>

    <sql id="selectLanyaCorePersonVo">
        select person_id, person_type, staff_type, position_icon_type, card_id, card_type, real_name, phone, sex, person_photo, birth, email, native_place, nation, marital_status, politics_status, health_status, id_type, id_number, person_ic, administrator_name, administrator_phone, dept_id, post_id, duty, hire_date, job_number, job_status, office_phone, professional_title, professional_title_number, seniority, year_plus_experience, experience, highest_education, highest_degree, profession, school, diploma_number, ceng_number, accessory, dimission_date, contractor_id, create_by, create_time, update_by, update_time, remark, person_code, gate_status, gate_in_time, gate_out_time, person_source, gate_through, update_fail, photo_sign from core_person
    </sql>

    <select id="selectLanyaCorePersonList" parameterType="LanyaCorePerson" resultMap="LanyaCorePersonResult">
        <include refid="selectLanyaCorePersonVo"/>
        <where>  
            <if test="personType != null  and personType != ''"> and person_type = #{personType}</if>
            <if test="staffType != null  and staffType != ''"> and staff_type = #{staffType}</if>
            <if test="positionIconType != null  and positionIconType != ''"> and position_icon_type = #{positionIconType}</if>
            <if test="cardId != null "> and card_id = #{cardId}</if>
            <if test="cardType != null  and cardType != ''"> and card_type = #{cardType}</if>
            <if test="realName != null  and realName != ''"> and real_name like concat('%', #{realName}, '%')</if>
            <if test="phone != null  and phone != ''"> and phone = #{phone}</if>
            <if test="sex != null  and sex != ''"> and sex = #{sex}</if>
            <if test="personPhoto != null  and personPhoto != ''"> and person_photo = #{personPhoto}</if>
            <if test="birth != null "> and birth = #{birth}</if>
            <if test="email != null  and email != ''"> and email = #{email}</if>
            <if test="nativePlace != null  and nativePlace != ''"> and native_place = #{nativePlace}</if>
            <if test="nation != null  and nation != ''"> and nation = #{nation}</if>
            <if test="maritalStatus != null  and maritalStatus != ''"> and marital_status = #{maritalStatus}</if>
            <if test="politicsStatus != null  and politicsStatus != ''"> and politics_status = #{politicsStatus}</if>
            <if test="healthStatus != null  and healthStatus != ''"> and health_status = #{healthStatus}</if>
            <if test="idType != null  and idType != ''"> and id_type = #{idType}</if>
            <if test="idNumber != null  and idNumber != ''"> and id_number = #{idNumber}</if>
            <if test="personIc != null  and personIc != ''"> and person_ic = #{personIc}</if>
            <if test="administratorName != null  and administratorName != ''"> and administrator_name like concat('%', #{administratorName}, '%')</if>
            <if test="administratorPhone != null  and administratorPhone != ''"> and administrator_phone = #{administratorPhone}</if>
            <if test="deptId != null "> and dept_id = #{deptId}</if>
            <if test="postId != null "> and post_id = #{postId}</if>
            <if test="duty != null  and duty != ''"> and duty = #{duty}</if>
            <if test="hireDate != null "> and hire_date = #{hireDate}</if>
            <if test="jobNumber != null  and jobNumber != ''"> and job_number = #{jobNumber}</if>
            <if test="jobStatus != null  and jobStatus != ''"> and job_status = #{jobStatus}</if>
            <if test="officePhone != null  and officePhone != ''"> and office_phone = #{officePhone}</if>
            <if test="professionalTitle != null  and professionalTitle != ''"> and professional_title = #{professionalTitle}</if>
            <if test="professionalTitleNumber != null  and professionalTitleNumber != ''"> and professional_title_number = #{professionalTitleNumber}</if>
            <if test="seniority != null  and seniority != ''"> and seniority = #{seniority}</if>
            <if test="yearPlusExperience != null  and yearPlusExperience != ''"> and year_plus_experience = #{yearPlusExperience}</if>
            <if test="experience != null  and experience != ''"> and experience = #{experience}</if>
            <if test="highestEducation != null  and highestEducation != ''"> and highest_education = #{highestEducation}</if>
            <if test="highestDegree != null  and highestDegree != ''"> and highest_degree = #{highestDegree}</if>
            <if test="profession != null  and profession != ''"> and profession = #{profession}</if>
            <if test="school != null  and school != ''"> and school = #{school}</if>
            <if test="diplomaNumber != null  and diplomaNumber != ''"> and diploma_number = #{diplomaNumber}</if>
            <if test="cengNumber != null  and cengNumber != ''"> and ceng_number = #{cengNumber}</if>
            <if test="accessory != null  and accessory != ''"> and accessory = #{accessory}</if>
            <if test="dimissionDate != null "> and dimission_date = #{dimissionDate}</if>
            <if test="contractorId != null "> and contractor_id = #{contractorId}</if>
            <if test="personCode != null  and personCode != ''"> and person_code = #{personCode}</if>
            <if test="gateStatus != null  and gateStatus != ''"> and gate_status = #{gateStatus}</if>
            <if test="gateInTime != null "> and gate_in_time = #{gateInTime}</if>
            <if test="gateOutTime != null "> and gate_out_time = #{gateOutTime}</if>
            <if test="personSource != null  and personSource != ''"> and person_source = #{personSource}</if>
            <if test="gateThrough != null  and gateThrough != ''"> and gate_through = #{gateThrough}</if>
            <if test="updateFail != null  and updateFail != ''"> and update_fail = #{updateFail}</if>
            <if test="photoSign != null  and photoSign != ''"> and photo_sign = #{photoSign}</if>
        </where>
    </select>
    
    <select id="selectLanyaCorePersonByPersonId" parameterType="Long" resultMap="LanyaCorePersonResult">
        <include refid="selectLanyaCorePersonVo"/>
        where person_id = #{personId}
    </select>

    <insert id="insertLanyaCorePerson" parameterType="LanyaCorePerson" useGeneratedKeys="true" keyProperty="personId">
        insert into core_person
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="personType != null and personType != ''">person_type,</if>
            <if test="staffType != null">staff_type,</if>
            <if test="positionIconType != null">position_icon_type,</if>
            <if test="cardId != null">card_id,</if>
            <if test="cardType != null">card_type,</if>
            <if test="realName != null and realName != ''">real_name,</if>
            <if test="phone != null">phone,</if>
            <if test="sex != null">sex,</if>
            <if test="personPhoto != null">person_photo,</if>
            <if test="birth != null">birth,</if>
            <if test="email != null">email,</if>
            <if test="nativePlace != null">native_place,</if>
            <if test="nation != null">nation,</if>
            <if test="maritalStatus != null">marital_status,</if>
            <if test="politicsStatus != null">politics_status,</if>
            <if test="healthStatus != null">health_status,</if>
            <if test="idType != null">id_type,</if>
            <if test="idNumber != null">id_number,</if>
            <if test="personIc != null">person_ic,</if>
            <if test="administratorName != null">administrator_name,</if>
            <if test="administratorPhone != null">administrator_phone,</if>
            <if test="deptId != null">dept_id,</if>
            <if test="postId != null">post_id,</if>
            <if test="duty != null">duty,</if>
            <if test="hireDate != null">hire_date,</if>
            <if test="jobNumber != null">job_number,</if>
            <if test="jobStatus != null">job_status,</if>
            <if test="officePhone != null">office_phone,</if>
            <if test="professionalTitle != null">professional_title,</if>
            <if test="professionalTitleNumber != null">professional_title_number,</if>
            <if test="seniority != null">seniority,</if>
            <if test="yearPlusExperience != null">year_plus_experience,</if>
            <if test="experience != null">experience,</if>
            <if test="highestEducation != null">highest_education,</if>
            <if test="highestDegree != null">highest_degree,</if>
            <if test="profession != null">profession,</if>
            <if test="school != null">school,</if>
            <if test="diplomaNumber != null">diploma_number,</if>
            <if test="cengNumber != null">ceng_number,</if>
            <if test="accessory != null">accessory,</if>
            <if test="dimissionDate != null">dimission_date,</if>
            <if test="contractorId != null">contractor_id,</if>
            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
            <if test="remark != null">remark,</if>
            <if test="personCode != null">person_code,</if>
            <if test="gateStatus != null">gate_status,</if>
            <if test="gateInTime != null">gate_in_time,</if>
            <if test="gateOutTime != null">gate_out_time,</if>
            <if test="personSource != null">person_source,</if>
            <if test="gateThrough != null">gate_through,</if>
            <if test="updateFail != null">update_fail,</if>
            <if test="photoSign != null">photo_sign,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="personType != null and personType != ''">#{personType},</if>
            <if test="staffType != null">#{staffType},</if>
            <if test="positionIconType != null">#{positionIconType},</if>
            <if test="cardId != null">#{cardId},</if>
            <if test="cardType != null">#{cardType},</if>
            <if test="realName != null and realName != ''">#{realName},</if>
            <if test="phone != null">#{phone},</if>
            <if test="sex != null">#{sex},</if>
            <if test="personPhoto != null">#{personPhoto},</if>
            <if test="birth != null">#{birth},</if>
            <if test="email != null">#{email},</if>
            <if test="nativePlace != null">#{nativePlace},</if>
            <if test="nation != null">#{nation},</if>
            <if test="maritalStatus != null">#{maritalStatus},</if>
            <if test="politicsStatus != null">#{politicsStatus},</if>
            <if test="healthStatus != null">#{healthStatus},</if>
            <if test="idType != null">#{idType},</if>
            <if test="idNumber != null">#{idNumber},</if>
            <if test="personIc != null">#{personIc},</if>
            <if test="administratorName != null">#{administratorName},</if>
            <if test="administratorPhone != null">#{administratorPhone},</if>
            <if test="deptId != null">#{deptId},</if>
            <if test="postId != null">#{postId},</if>
            <if test="duty != null">#{duty},</if>
            <if test="hireDate != null">#{hireDate},</if>
            <if test="jobNumber != null">#{jobNumber},</if>
            <if test="jobStatus != null">#{jobStatus},</if>
            <if test="officePhone != null">#{officePhone},</if>
            <if test="professionalTitle != null">#{professionalTitle},</if>
            <if test="professionalTitleNumber != null">#{professionalTitleNumber},</if>
            <if test="seniority != null">#{seniority},</if>
            <if test="yearPlusExperience != null">#{yearPlusExperience},</if>
            <if test="experience != null">#{experience},</if>
            <if test="highestEducation != null">#{highestEducation},</if>
            <if test="highestDegree != null">#{highestDegree},</if>
            <if test="profession != null">#{profession},</if>
            <if test="school != null">#{school},</if>
            <if test="diplomaNumber != null">#{diplomaNumber},</if>
            <if test="cengNumber != null">#{cengNumber},</if>
            <if test="accessory != null">#{accessory},</if>
            <if test="dimissionDate != null">#{dimissionDate},</if>
            <if test="contractorId != null">#{contractorId},</if>
            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
            <if test="remark != null">#{remark},</if>
            <if test="personCode != null">#{personCode},</if>
            <if test="gateStatus != null">#{gateStatus},</if>
            <if test="gateInTime != null">#{gateInTime},</if>
            <if test="gateOutTime != null">#{gateOutTime},</if>
            <if test="personSource != null">#{personSource},</if>
            <if test="gateThrough != null">#{gateThrough},</if>
            <if test="updateFail != null">#{updateFail},</if>
            <if test="photoSign != null">#{photoSign},</if>
         </trim>
    </insert>

    <update id="updateLanyaCorePerson" parameterType="LanyaCorePerson">
        update core_person
        <trim prefix="SET" suffixOverrides=",">
            <if test="personType != null and personType != ''">person_type = #{personType},</if>
            <if test="staffType != null">staff_type = #{staffType},</if>
            <if test="positionIconType != null">position_icon_type = #{positionIconType},</if>
            <if test="cardId != null">card_id = #{cardId},</if>
            <if test="cardType != null">card_type = #{cardType},</if>
            <if test="realName != null and realName != ''">real_name = #{realName},</if>
            <if test="phone != null">phone = #{phone},</if>
            <if test="sex != null">sex = #{sex},</if>
            <if test="personPhoto != null">person_photo = #{personPhoto},</if>
            <if test="birth != null">birth = #{birth},</if>
            <if test="email != null">email = #{email},</if>
            <if test="nativePlace != null">native_place = #{nativePlace},</if>
            <if test="nation != null">nation = #{nation},</if>
            <if test="maritalStatus != null">marital_status = #{maritalStatus},</if>
            <if test="politicsStatus != null">politics_status = #{politicsStatus},</if>
            <if test="healthStatus != null">health_status = #{healthStatus},</if>
            <if test="idType != null">id_type = #{idType},</if>
            <if test="idNumber != null">id_number = #{idNumber},</if>
            <if test="personIc != null">person_ic = #{personIc},</if>
            <if test="administratorName != null">administrator_name = #{administratorName},</if>
            <if test="administratorPhone != null">administrator_phone = #{administratorPhone},</if>
            <if test="deptId != null">dept_id = #{deptId},</if>
            <if test="postId != null">post_id = #{postId},</if>
            <if test="duty != null">duty = #{duty},</if>
            <if test="hireDate != null">hire_date = #{hireDate},</if>
            <if test="jobNumber != null">job_number = #{jobNumber},</if>
            <if test="jobStatus != null">job_status = #{jobStatus},</if>
            <if test="officePhone != null">office_phone = #{officePhone},</if>
            <if test="professionalTitle != null">professional_title = #{professionalTitle},</if>
            <if test="professionalTitleNumber != null">professional_title_number = #{professionalTitleNumber},</if>
            <if test="seniority != null">seniority = #{seniority},</if>
            <if test="yearPlusExperience != null">year_plus_experience = #{yearPlusExperience},</if>
            <if test="experience != null">experience = #{experience},</if>
            <if test="highestEducation != null">highest_education = #{highestEducation},</if>
            <if test="highestDegree != null">highest_degree = #{highestDegree},</if>
            <if test="profession != null">profession = #{profession},</if>
            <if test="school != null">school = #{school},</if>
            <if test="diplomaNumber != null">diploma_number = #{diplomaNumber},</if>
            <if test="cengNumber != null">ceng_number = #{cengNumber},</if>
            <if test="accessory != null">accessory = #{accessory},</if>
            <if test="dimissionDate != null">dimission_date = #{dimissionDate},</if>
            <if test="contractorId != null">contractor_id = #{contractorId},</if>
            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
            <if test="remark != null">remark = #{remark},</if>
            <if test="personCode != null">person_code = #{personCode},</if>
            <if test="gateStatus != null">gate_status = #{gateStatus},</if>
            <if test="gateInTime != null">gate_in_time = #{gateInTime},</if>
            <if test="gateOutTime != null">gate_out_time = #{gateOutTime},</if>
            <if test="personSource != null">person_source = #{personSource},</if>
            <if test="gateThrough != null">gate_through = #{gateThrough},</if>
            <if test="updateFail != null">update_fail = #{updateFail},</if>
            <if test="photoSign != null">photo_sign = #{photoSign},</if>
        </trim>
        where person_id = #{personId}
    </update>

    <delete id="deleteLanyaCorePersonByPersonId" parameterType="Long">
        delete from core_person where person_id = #{personId}
    </delete>

    <delete id="deleteLanyaCorePersonByPersonIds" parameterType="String">
        delete from core_person where person_id in 
        <foreach item="personId" collection="array" open="(" separator="," close=")">
            #{personId}
        </foreach>
    </delete>
</mapper>